/* ===== RESET & BASE ===== */
*,*::before,*::after{margin:0;padding:0;box-sizing:border-box}
html{font-size:16px;-webkit-text-size-adjust:100%;scroll-behavior:smooth}
body{font-family:'Inter',system-ui,-apple-system,sans-serif;background:#0c0a14;color:#e4e0f0;min-height:100vh;overflow-x:hidden;line-height:1.6;-webkit-font-smoothing:antialiased}
a{color:#a78bfa;text-decoration:none}
button{cursor:pointer;border:none;outline:none;font-family:inherit}
input{font-family:inherit;outline:none;border:none}
img{max-width:100%;display:block}
.hidden{display:none!important}

/* ===== BACKGROUND FX ===== */
.bg-noise{position:fixed;inset:0;z-index:0;opacity:.03;background:url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.85' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");pointer-events:none}
.bg-glow{position:fixed;border-radius:50%;filter:blur(120px);opacity:.15;pointer-events:none;z-index:0}
.bg-glow--1{width:500px;height:500px;background:radial-gradient(circle,#7c3aed,transparent 70%);top:-120px;right:-100px}
.bg-glow--2{width:400px;height:400px;background:radial-gradient(circle,#a855f7,transparent 70%);bottom:-100px;left:-80px}

/* ===== LAYOUT ===== */
#app{position:relative;z-index:1;max-width:620px;margin:0 auto;padding:20px 16px 40px}

/* ===== HEADER ===== */
.header{display:flex;align-items:center;justify-content:space-between;padding:8px 0 24px}
.logo{display:flex;align-items:center;gap:10px}
.logo-icon{width:36px;height:36px;flex-shrink:0}
.logo-text{font-size:1.25rem;font-weight:800;letter-spacing:-.02em;color:#f0ecff}
.logo-accent{background:linear-gradient(135deg,#a855f7,#c084fc);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
.header-pill{display:flex;align-items:center;gap:6px;font-size:.75rem;font-weight:600;color:#a78bfa;background:rgba(124,58,237,.12);padding:5px 12px;border-radius:100px;border:1px solid rgba(124,58,237,.2)}
.pill-dot{width:6px;height:6px;border-radius:50%;background:#22c55e;box-shadow:0 0 6px #22c55e}

/* ===== HERO ===== */
.hero{text-align:center;padding:20px 0 32px}
.hero-title{font-size:clamp(1.6rem,5vw,2.25rem);font-weight:800;line-height:1.2;letter-spacing:-.03em;color:#f5f3ff}
.hero-gradient{background:linear-gradient(135deg,#a855f7 0%,#c084fc 50%,#e879f9 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
.hero-sub{margin-top:8px;font-size:.95rem;color:#9a91b8;font-weight:400}

/* ===== URL CARD ===== */
.url-card{margin-top:24px;background:rgba(255,255,255,.04);border:1px solid rgba(124,58,237,.15);border-radius:16px;padding:6px;transition:border-color .2s,box-shadow .2s}
.url-card:focus-within{border-color:rgba(168,85,247,.5);box-shadow:0 0 0 3px rgba(168,85,247,.1),0 8px 32px rgba(124,58,237,.12)}
.url-row{display:flex;align-items:center;gap:8px;padding:4px}
.url-icon-wrap{display:flex;align-items:center;justify-content:center;width:36px;height:36px;flex-shrink:0;color:#7c3aed}
.url-icon{width:18px;height:18px}
.url-input{flex:1;background:transparent;color:#f0ecff;font-size:1rem;font-weight:500;padding:8px 4px;min-width:0}
.url-input::placeholder{color:#6b637e;font-weight:400}
.btn-load{display:flex;align-items:center;gap:6px;background:linear-gradient(135deg,#7c3aed,#a855f7);color:#fff;font-size:.875rem;font-weight:600;padding:10px 20px;border-radius:12px;transition:transform .15s,box-shadow .15s;flex-shrink:0}
.btn-load:hover{transform:translateY(-1px);box-shadow:0 4px 20px rgba(124,58,237,.4)}
.btn-load:active{transform:scale(.97)}
.btn-load:disabled{opacity:.5;pointer-events:none}
.btn-load-spinner{width:18px;height:18px;animation:spin .8s linear infinite}
@keyframes spin{to{transform:rotate(360deg)}}
.url-error{padding:6px 12px;font-size:.82rem;color:#f87171;font-weight:500}

/* ===== SKELETON ===== */
.section-skeleton{padding:0 0 16px}
.skel-card{display:flex;gap:16px;padding:16px;background:rgba(255,255,255,.03);border:1px solid rgba(255,255,255,.06);border-radius:16px}
.skel{background:linear-gradient(90deg,rgba(255,255,255,.04) 25%,rgba(255,255,255,.08) 50%,rgba(255,255,255,.04) 75%);background-size:200% 100%;animation:shimmer 1.5s infinite;border-radius:8px}
.skel-thumb{width:120px;height:80px;flex-shrink:0;border-radius:10px}
.skel-info{flex:1;display:flex;flex-direction:column;gap:10px;justify-content:center}
.skel-line{height:14px}
.skel-w80{width:80%}
.skel-w50{width:50%}
@keyframes shimmer{0%{background-position:200% 0}100%{background-position:-200% 0}}

/* ===== EDITOR ===== */
.editor{animation:fadeUp .4s ease}
@keyframes fadeUp{from{opacity:0;transform:translateY(16px)}to{opacity:1;transform:none}}

/* Video Card */
.vid-card{display:flex;gap:16px;padding:16px;background:rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.07);border-radius:16px;margin-bottom:16px}
.vid-thumb-wrap{position:relative;width:140px;flex-shrink:0;border-radius:12px;overflow:hidden;aspect-ratio:16/9}
.vid-thumb{width:100%;height:100%;object-fit:cover}
.vid-badge{position:absolute;bottom:6px;right:6px;background:rgba(0,0,0,.8);color:#fff;font-size:.7rem;font-weight:700;padding:2px 7px;border-radius:6px;letter-spacing:.03em}
.vid-info{flex:1;display:flex;flex-direction:column;justify-content:center;min-width:0}
.vid-title{font-size:.95rem;font-weight:700;color:#f0ecff;line-height:1.35;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}
.vid-channel{margin-top:4px;font-size:.82rem;color:#9a91b8;font-weight:500}

/* Cards */
.card{background:rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.07);border-radius:16px;padding:20px;margin-bottom:16px}
.card-head{display:flex;align-items:center;justify-content:space-between;margin-bottom:16px}
.card-head h3{display:flex;align-items:center;gap:8px;font-size:.95rem;font-weight:700;color:#e4e0f0}
.card-icon{width:18px;height:18px;color:#a855f7}
.chip{font-size:.75rem;font-weight:700;color:#a855f7;background:rgba(168,85,247,.12);padding:4px 10px;border-radius:100px;border:1px solid rgba(168,85,247,.2)}

/* ===== RANGE SLIDER ===== */
.slider-wrap{padding:20px 14px 8px;user-select:none;-webkit-user-select:none;touch-action:none}
.slider-track{position:relative;height:6px;background:rgba(255,255,255,.08);border-radius:99px;cursor:pointer}
.slider-fill{position:absolute;height:100%;background:linear-gradient(90deg,#7c3aed,#a855f7);border-radius:99px;pointer-events:none}
.slider-handle{position:absolute;top:50%;width:22px;height:22px;background:#fff;border:3px solid #7c3aed;border-radius:50%;transform:translate(-50%,-50%);cursor:grab;z-index:2;transition:box-shadow .15s;touch-action:none}
.slider-handle:hover,.slider-handle:focus{box-shadow:0 0 0 6px rgba(124,58,237,.25)}
.slider-handle:active,.slider-handle.dragging{cursor:grabbing;box-shadow:0 0 0 8px rgba(124,58,237,.3);transform:translate(-50%,-50%) scale(1.1)}
.handle-tip{position:absolute;bottom:calc(100% + 8px);left:50%;transform:translateX(-50%);background:#1e1b2e;color:#c4b5fd;font-size:.7rem;font-weight:700;padding:3px 8px;border-radius:6px;white-space:nowrap;pointer-events:none;opacity:0;transition:opacity .15s}
.slider-handle:hover .handle-tip,.slider-handle:active .handle-tip,.slider-handle.dragging .handle-tip,.slider-handle:focus .handle-tip{opacity:1}
.slider-labels{display:flex;justify-content:space-between;padding:6px 0 0;font-size:.72rem;color:#6b637e;font-weight:500}

/* Time Inputs */
.time-row{display:flex;align-items:center;gap:12px;justify-content:center;margin-top:12px}
.time-group{display:flex;flex-direction:column;align-items:center;gap:4px}
.time-group label{font-size:.7rem;font-weight:600;color:#7c7394;text-transform:uppercase;letter-spacing:.06em}
.time-input{width:100px;text-align:center;background:rgba(255,255,255,.06);color:#e4e0f0;font-size:.9rem;font-weight:600;padding:8px 10px;border-radius:10px;border:1px solid rgba(255,255,255,.08);transition:border-color .2s}
.time-input:focus{border-color:#7c3aed;background:rgba(124,58,237,.08)}
.time-sep{font-size:1.1rem;color:#6b637e;font-weight:600}

/* ===== QUALITY ===== */
.quality-row{display:flex;gap:8px;flex-wrap:wrap}
.q-chip{font-size:.8rem;font-weight:600;color:#9a91b8;background:rgba(255,255,255,.05);border:1px solid rgba(255,255,255,.08);padding:8px 16px;border-radius:10px;transition:all .2s}
.q-chip:hover{background:rgba(168,85,247,.1);color:#c4b5fd;border-color:rgba(168,85,247,.25)}
.q-chip.active{background:linear-gradient(135deg,rgba(124,58,237,.2),rgba(168,85,247,.15));color:#e9d5ff;border-color:rgba(168,85,247,.5);box-shadow:0 0 12px rgba(124,58,237,.15)}

/* Filename */
.fname-row{margin-top:14px;display:flex;flex-direction:column;gap:5px}
.fname-row label{font-size:.72rem;font-weight:600;color:#7c7394;text-transform:uppercase;letter-spacing:.06em}
.fname-input{background:rgba(255,255,255,.05);color:#e4e0f0;font-size:.88rem;font-weight:500;padding:10px 14px;border-radius:10px;border:1px solid rgba(255,255,255,.08);transition:border-color .2s}
.fname-input:focus{border-color:#7c3aed;background:rgba(124,58,237,.06)}

/* ===== CTA BUTTON ===== */
.btn-trim{display:flex;align-items:center;justify-content:center;gap:10px;width:100%;padding:16px;font-size:1rem;font-weight:700;color:#fff;background:linear-gradient(135deg,#7c3aed,#a855f7);border-radius:14px;transition:transform .15s,box-shadow .15s;margin-top:4px}
.btn-trim:hover{transform:translateY(-2px);box-shadow:0 8px 30px rgba(124,58,237,.35)}
.btn-trim:active{transform:scale(.98)}
.btn-trim:disabled{opacity:.45;pointer-events:none}
.trim-icon{width:20px;height:20px}

/* ===== PROGRESS OVERLAY ===== */
.overlay{position:fixed;inset:0;z-index:100;display:flex;align-items:center;justify-content:center;background:rgba(12,10,20,.85);backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);animation:fadeIn .25s ease}
@keyframes fadeIn{from{opacity:0}to{opacity:1}}
.overlay-card{background:rgba(30,27,46,.95);border:1px solid rgba(124,58,237,.2);border-radius:24px;padding:40px 32px;text-align:center;max-width:360px;width:90%;box-shadow:0 24px 80px rgba(0,0,0,.5)}

/* Ring */
.ring-wrap{position:relative;width:120px;height:120px;margin:0 auto 20px}
.ring-svg{width:100%;height:100%;transform:rotate(-90deg)}
.ring-bg{fill:none;stroke:rgba(255,255,255,.06);stroke-width:8}
.ring-fg{fill:none;stroke:url(#ringGrad);stroke-width:8;stroke-linecap:round;stroke-dasharray:326.73;stroke-dashoffset:326.73;transition:stroke-dashoffset .4s ease}
.ring-pct{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;font-size:1.5rem;font-weight:800;color:#e9d5ff}

.overlay-phase{font-size:.95rem;font-weight:600;color:#c4b5fd;margin-bottom:16px}
.overlay-stats{display:flex;justify-content:center;gap:20px;margin-bottom:20px}
.o-stat{display:flex;flex-direction:column;align-items:center;gap:2px}
.o-label{font-size:.65rem;font-weight:600;color:#6b637e;text-transform:uppercase;letter-spacing:.06em}
.o-val{font-size:.85rem;font-weight:700;color:#e4e0f0}
.overlay-bar-wrap{height:4px;background:rgba(255,255,255,.06);border-radius:99px;overflow:hidden}
.overlay-bar{height:100%;width:0%;background:linear-gradient(90deg,#7c3aed,#a855f7,#c084fc);border-radius:99px;transition:width .3s ease}

/* ===== TOAST ===== */
.toast-wrap{position:fixed;top:20px;right:20px;z-index:200;display:flex;flex-direction:column;gap:10px;pointer-events:none;max-width:360px;width:calc(100% - 40px)}
.toast{pointer-events:auto;display:flex;align-items:flex-start;gap:12px;background:rgba(30,27,46,.95);border:1px solid rgba(124,58,237,.2);border-radius:14px;padding:14px 16px;box-shadow:0 8px 32px rgba(0,0,0,.4);animation:toastIn .3s ease;backdrop-filter:blur(8px)}
.toast.exit{animation:toastOut .25s ease forwards}
@keyframes toastIn{from{opacity:0;transform:translateX(40px)}to{opacity:1;transform:none}}
@keyframes toastOut{to{opacity:0;transform:translateX(40px)}}
.toast-icon{width:22px;height:22px;flex-shrink:0;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:.8rem;font-weight:700;color:#fff}
.toast-icon.s{background:#22c55e}
.toast-icon.e{background:#ef4444}
.toast-icon.w{background:#f59e0b}
.toast-body{flex:1;min-width:0}
.toast-title{font-size:.82rem;font-weight:700;color:#f0ecff}
.toast-msg{font-size:.78rem;color:#9a91b8;margin-top:2px;line-height:1.4}
.toast-close{background:none;color:#6b637e;font-size:1.1rem;padding:0 0 0 8px;line-height:1;flex-shrink:0;transition:color .15s}
.toast-close:hover{color:#e4e0f0}

/* ===== FOOTER ===== */
.footer{text-align:center;padding:32px 0 12px;font-size:.78rem;color:#4a4360}
.footer strong{color:#6b637e;font-weight:600}

/* ===== RESPONSIVE ===== */
@media(max-width:640px){
    #app{padding:16px 12px 32px}
    .hero-title{font-size:1.5rem}
    .hero-sub{font-size:.85rem}
    .vid-card{gap:12px;padding:12px}
    .vid-thumb-wrap{width:110px}
    .vid-title{font-size:.85rem}
    .card{padding:16px}
    .quality-row{gap:6px}
    .q-chip{padding:7px 12px;font-size:.75rem}
    .btn-trim{padding:14px;font-size:.92rem;border-radius:12px}
    .overlay-card{padding:28px 20px}
    .overlay-stats{gap:14px}
    .time-input{width:88px;font-size:.82rem}
    .toast-wrap{top:12px;right:12px;max-width:calc(100% - 24px);width:auto}
    .slider-handle{width:20px;height:20px}
}

@media(max-width:380px){
    .hero-title{font-size:1.3rem}
    .url-card{padding:4px}
    .btn-load{padding:8px 14px;font-size:.8rem}
    .vid-thumb-wrap{width:90px}
    .quality-row{gap:4px}
    .q-chip{padding:6px 10px;font-size:.7rem}
    .time-input{width:78px;font-size:.78rem}
}
